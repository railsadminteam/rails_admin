<% if field.nullable? %>
  <div class="btn-group" data-toggle="buttons">
    <% {'1': true, '0': false, '': nil}.each do |text, value| %>
      <label class="<%= [field.css_classes[value], ("active" if field.form_value == value)].compact.join(' ') %> btn btn-default">
        <%= form.radio_button field.method_name, text, field.html_attributes.reverse_merge({ checked: field.form_value == value, required: field.required}) %>
        <%= field.labels[value].html_safe %>
      </label>
    <% end %>
  </div>
<% else %>
  <div class="checkbox">
    <label style="display: block;">
      <%= form.send field.view_helper, field.method_name, field.html_attributes.reverse_merge({ value: field.form_value, checked: field.form_value.in?([true, '1']), required: field.required}) %>
    </label>
  </div>
<% end %>
